console.log("test data loaded")
var solSystem = {
  init:{
    sun:{
      position:
        [-462274766.49029809, 571307291.68997252, 259952673.70668754],
      velocity:
        [-832399.52725117235, -359904.59311214706, -136289.26806038216],
      mass:1.989 * Math.pow(10,30)
    },
    jupiter:{
      position:
        [150463191582.29327, -698747623859.14197, -303765476502.69525],
      velocity:
        [1096142600.9707019, 258392456.7204127, 83629952.169289619],
      mass:1.89813 * Math.pow(10,27)
    },
    saturn:{
      position:
        [535381533667.97748, 1153273114079.2976, 451913100610.75629],
      velocity:
        [-813926006.15787542, 296504989.32141125, 155776788.5785526],
      mass:5.683 * Math.pow(10,26)
    },
    neptune:{
      position:
        [717753278126.50806, -4125218139604.8169, -1706314193560.4861],
      velocity:
        [460565514.71125382, 75470352.788929477, 19454844.053292509],
      mass:1.024  * Math.pow(10,26)
    },
    uranus:{
      position:
        [2945899420544.2007, -500027026421.94879, -261658146962.66748],
      velocity:
        [106046546.76548657, 506094592.87914395, 220279353.36466765],
      mass:8.681 * Math.pow(10,25)
    },
    earth:{
      position:
        [-73431034042.743881, 117729686107.88492, 51364658220.736267],
      velocity:
        [-2279889885.6685352, -1175882615.763654, -513170457.37725317],
      mass:5.972 * Math.pow(10,24)
    },
    venus:{
      position:
        [99163408708.532166, 41702102850.061295, 12254199141.689671],
      velocity:
        [-1199613386.6557312, 2500398459.4571061, 1193231355.5087409],
      mass:4.867 * Math.pow(10,24)
    },
    mars:{
      position:
        [-138634489082.67218, 184242484647.90073, 88467112029.21019],
      velocity:
        [-1640853257.1749768, -932518244.58612406, -379054585.68680972],
      mass:6.39 * Math.pow(10,23)
    },
    mercury:{
      position:
        [15490754832.349974, -56829276620.384377, -32003291218.696342],
      velocity:
        [3250060113.9021993, 1215489590.0190678, 300904131.13978839],
      mass:3.285000*Math.pow(10,23)
    },
    moon:{
      position:
        [-73435363360.690002, 117727798244.4649, 51363957396.694878],
      velocity:
        [-2279512146.104465, -1176737467.4844868, -513638208.75329912],
      mass:7.3478 * Math.pow(10,22)
    },
    pluto:{
      position:
        [-2859695396961.9473, -3386341044964.5527, -194166131705.2587],
      velocity:
        [373262671.84544933, -309981038.39164954, -208985503.50802159],
      mass:1.309 * Math.pow(10,22)
    }
  },
  finish2000:{
    sun:{
      position:
        [-1068001209.5397506, -395483337.95663589, -137844399.29973322],
      velocity:
        [803978.06302693649, -1011572.8654041241, -453934.78138246929],
      mass:1.989 * Math.pow(10,30)
    },
    jupiter:{
      position:
        [597841064494.40039, 408550846607.99744, 160559575221.29688],
      velocity:
        [-681881980.99017644, 879337428.47351885, 393527476.93948424],
      mass:1.89813 * Math.pow(10,27)
    },
    saturn:{
      position:
        [957638511015.6709, 923056150676.86694, 340040454726.36334],
      velocity:
        [-641138143.14533055, 526999126.99409342, 245241071.14129886],
      mass:5.683 * Math.pow(10,26)
    },
    neptune:{
      position:
        [2513786845168.8325, -3438295752162.0132, -1469897160180.8733],
      velocity:
        [386672372.59714127, 248562907.46070752, 92111742.332174405],
      mass:1.024  * Math.pow(10,26)
    },
    uranus:{
      position:
        [2157707135144.8479, -1871489459447.5054, -850183227768.08911],
      velocity:
        [401483802.669985, 367264708.78038913, 155173493.74455097],
      mass:8.681 * Math.pow(10,25)
    },
    earth:{
      position:
        [-26278930318.75415, 132573528703.7394, 57510604691.172493],
      velocity:
        [-2577357620.8544822, -413825188.78231704, -179424720.53546849],
      mass:5.972 * Math.pow(10,24)
    },
    venus:{
      position:
        [-108573551410.0153, -5934203171.7609615, 4174004887.0313988],
      velocity:
        [77627391.318040907, -2769818889.545639, -1250964415.8409147],
      mass:4.867 * Math.pow(10,24)
    },
    mars:{
      position:
        [206927053777.93634, -1219136790.8267453, -6139500842.8033237],
      velocity:
        [112692276.03122179, 2065521699.0900154, 944373424.96614063],
      mass:6.39 * Math.pow(10,23)
    },
    mercury:{
      position:
        [-22120621924.776695, -59933167369.947952, -29757145022.029949],
      velocity:
        [3167622056.5903659, -825107362.89772534, -769097536.35609722],
      mass:3.285000*Math.pow(10,23)
    },
    moon:{
      position:
        [-26282789955.248379, 132570655521.08411, 57509843137.618782],
      velocity:
        [-2576768900.6675277, -414594984.89120698, -179760343.76380327],
      mass:7.3478 * Math.pow(10,22)
    },
    pluto:{
      position:
        [-1478624901619.2373, -4185887838194.4893, -860782286831.90759],
      velocity:
        [453891422.36238778, -169717724.56599376, -189718761.84706995],
      mass:1.309 * Math.pow(10,22)
    }
  },
  finish1010:{
    sun:{
      position:
        [688859263.28398478, 768452661.80209601, 298590724.67939669],
      velocity:
        [-828263.10848836193, 809445.55506868323, 365558.79310902109],
      mass:1.989 * Math.pow(10,30)
    },
    jupiter:{
      position:
        [-550776513601.50647, -546955689944.27454, -221124275612.06076],
      velocity:
        [812393728.5381341, -653467472.689978, -300808609.76995385],
      mass:1.89813 * Math.pow(10,27)
    },
    saturn:{
      position:
        [-1382729893822.7742, -422228325619.19281, -116101466705.16684],
      velocity:
        [203206288.49987486, -731536578.34704971, -309278287.89927483],
      mass:5.683 * Math.pow(10,26)
    },
    neptune:{
      position:
        [2309264191392.2671, -3563472634223.0518, -1515904060250.8718],
      velocity:
        [400230707.08983928, 228602719.49610838, 83631355.443332657],
      mass:1.024  * Math.pow(10,26)
    },
    uranus:{
      position:
        [2605678427081.2671, 1318214653094.1533, 540142624021.91815],
      velocity:
        [-286523939.15525562, 447571499.87122542, 200293445.01006046],
      mass:8.681 * Math.pow(10,25)
    },
    earth:{
      position:
        [-73279280579.728378, 117410967137.47011, 51175655981.74659],
      velocity:
        [-2268302963.4144783, -1191376753.0315742, -519946651.03611356],
      mass:5.972 * Math.pow(10,24)
    },
    venus:{
      position:
        [-46670780695.906952, 87673747643.539948, 42137089823.41787],
      velocity:
        [-2727649004.3798132, -1297171583.3634534, -404881828.78270561],
      mass:4.867 * Math.pow(10,24)
    },
    mars:{
      position:
        [-169586668102.82361, -145503984652.81076, -61722102253.313828],
      velocity:
        [1518406820.1849508, -1219603274.1785822, -603361587.99752474],
      mass:6.39 * Math.pow(10,23)
    },
    mercury:{
      position:
        [-42667696346.254532, 23964324773.243698, 17267946377.706032],
      velocity:
        [-3139674045.1674032, -3071170561.5554271, -1301078159.2595773],
      mass:3.285000*Math.pow(10,23)
    },
    moon:{
      position:
        [-73278935474.126266, 117415136374.37685, 51177111157.592346],
      velocity:
        [-2269434444.6959066, -1191336705.731606, -519979067.63474119],
      mass:7.3478 * Math.pow(10,22)
    },
    pluto:{
      position:
        [-1318345641859.9192, -4240804962699.459, -924540879896.66675],
      velocity:
        [459270981.32609057, -153810178.66819045, -186220628.76514027],
      mass:1.309 * Math.pow(10,22)
    }
  },
  finish1001:{
    "mercury":
      {"mass":3.285e+23,
      "position":[50130295825.512474,-22677358978.3544,-17510100595.060905],
      "velocity":[1220098273.7345495,3496787712.292131,1731959141.72383]},
    "sun":
      {"mass":1.9890000000000002e+30,
      "position":[-727758424.9078686,359899019.77376276,174657318.35683888],
      "velocity":[-563508.9668835759,-776264.7077188671,-322480.00834950974]},
    "neptune":
      {"mass":1.0240000000000001e+26,
      "position":[885763906286.6549,-4094637192972.77,-1697968847440.5078],
      "velocity":[457415092.83307767,91620567.96130012,26143481.270233057]},
    "moon":
      {"mass":7.3478e+22,
      "position":[-75390225115.61719,116633086877.64232,50893010972.17795],
      "velocity":[-2262149793.68538,-1204104844.4248471,-525577579.80915743]},
    "pluto":
      {"mass":1.309e+22,
      "position":[-2720941397871.597,-3497190644701.235,-270487920342.21613],
      "velocity":[384856136.1495408,-295682160.55597794,-208020857.01619378]},
    "jupiter":
      {"mass":1.8981300000000002e+27,
      "position":[510993999003.76746,-509911363028.46545,-231669749146.24],
      "velocity":[822316601.2712886,754090979.6783198,303289370.58984023]},
    "uranus":
      {"mass":8.681e+25,
      "position":[2977432904900.5513,-313718403279.90155,-180458405273.72015],
      "velocity":[66194970.6659377,511567288.50458634,223252919.61175483]},
    "mars":
      {"mass":6.39e+23,
      "position":[123377371240.38223,-150559534150.54364,-72613998487.82585],
      "velocity":[1773209139.274771,1307176739.0706558,546848475.6717709]},
    "earth":
      {"mass":5.972e+24,
      "position":[-75394746992.74884,116634724864.04176,50894042236.18881],
      "velocity":[-2262531205.513484,-1204943385.9753072,-526016468.80450696]},
    "venus":
      {"mass":4.867e+24,
      "position":[-36127022515.74399,-94201265431.27426,-39786782276.24893],
      "velocity":[2838129587.442923,-848724265.1563563,-560532925.8036294]},
    "saturn":
      {"mass":5.683e+26,
      "position":[225698828505.80676,1229660825826.052,496205707512.5558],
      "velocity":[-870750141.0163783,118737578.07494806,85048856.82807937]}
  }
}
testModule = (function(){
  var API = {}
  var conversions = {
    mass: 2.51369966316425* Math.pow(10 , -17),
    length: 6.68458712226845* Math.pow(10 , -6),
    time: 421956.122865024,
    gravity: 6.67384 * Math.pow(10, -11)
  };
  conversions.speed = conversions.length/conversions.time
  API.conversions = conversions

  API.extraData = function(results){
    output = {}
    for(var body in results){
      if(body === "earthmoon"){ 
        name = "moon"
        output[name] = {}
        output[name]["mass"] = solSystem.init[name].mass
        output[name]["position"] = results[body][0]
        output[name]["velocity"] = results[body][1]
        continue
      }
      output[body] = {}
      output[body]["mass"] = solSystem.init[body].mass
      output[body]["position"] = results[body][0]
      output[body]["velocity"] = results[body][1]
    };
    console.log(output)
    return JSON.stringify(output)
  };

  API.convert = function(system){
    var output = {}
    for(var body in system){
      output[body] = {};
      output[body]["mass"] = system[body].mass*API.conversions.gravity;
      var tempV = Utils.arrayScale(system[body].velocity, 1/86400);
      output[body]["velocity"] = tempV//Utils.arrayScale(tempV, API.conversions.speed);
      output[body]["position"] = system[body].position//Utils.arrayScale(system[body].position,API.conversions.length);
    };
    return output;
  }
  return API
})()

